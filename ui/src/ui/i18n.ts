import type { Language } from "./storage.ts";

const translations = {
  // Navigation & Shell
  expandSidebar: { zh: "展开侧边栏", en: "Expand sidebar" },
  collapseSidebar: { zh: "收起侧边栏", en: "Collapse sidebar" },
  gatewayDashboard: { zh: "网关仪表板", en: "Gateway Dashboard" },
  health: { zh: "健康状态", en: "Health" },
  ok: { zh: "正常", en: "OK" },
  offline: { zh: "离线", en: "Offline" },
  theme: { zh: "主题", en: "Theme" },
  systemTheme: { zh: "系统主题", en: "System theme" },
  lightTheme: { zh: "作为浅色主题", en: "Light theme" },
  darkTheme: { zh: "作为深色主题", en: "Dark theme" },
  light: { zh: "浅色", en: "Light" },
  dark: { zh: "深色", en: "Dark" },
  system: { zh: "系统", en: "System" },
  resources: { zh: "资源", en: "Resources" },
  docs: { zh: "文档", en: "Docs" },
  
  // Tab Groups
  groupOverview: { zh: "概览", en: "Overview" },
  groupAgent: { zh: "智能体", en: "Agent" },
  groupControl: { zh: "控制", en: "Control" },
  groupObserve: { zh: "观察", en: "Observe" },
  groupSettings: { zh: "设置", en: "Settings" },
  groupSystem: { zh: "系统", en: "System" },

  // Tabs
  tabOverview: { zh: "概览", en: "Overview" },
  tabChat: { zh: "聊天", en: "Chat" },
  tabAgents: { zh: "智能体", en: "Agents" },
  tabSessions: { zh: "会话", en: "Sessions" },
  tabUsage: { zh: "用量", en: "Usage" },
  tabChannels: { zh: "渠道", en: "Channels" },
  tabCron: { zh: "定时任务", en: "Cron" },
  tabInstances: { zh: "实例", en: "Instances" },
  tabSkills: { zh: "技能", en: "Skills" },
  tabNodes: { zh: "节点", en: "Nodes" },
  tabConfig: { zh: "配置", en: "Config" },
  tabDebug: { zh: "调试", en: "Debug" },
  tabLogs: { zh: "日志", en: "Logs" },
  
  tabRpc: { zh: "RPC", en: "RPC" },
  tabEvents: { zh: "事件", en: "Events" },
  tabState: { zh: "状态", en: "State" },
  tabSystem: { zh: "系统", en: "System" },
  tabFiles: { zh: "文件", en: "Files" },
  tabHistory: { zh: "历史", en: "History" },
  
  // Tab Titles/Subtitles
  titleOverview: { zh: "概览", en: "Overview" },
  subOverview: { zh: "系统状态", en: "System Status" },
  titleChat: { zh: "聊天", en: "Chat" },
  subChat: { zh: "与智能体对话", en: "Talk to Agents" },
  titleAgents: { zh: "智能体", en: "Agents" },
  subAgents: { zh: "配置 & 文件", en: "Configuration & Files" },
  titleSessions: { zh: "会话", en: "Sessions" },
  subSessions: { zh: "历史记录 & 状态", en: "History & Status" },
  titleUsage: { zh: "用量", en: "Usage" },
  subUsage: { zh: "令牌 & 成本", en: "Tokens & Costs" },
  titleChannels: { zh: "渠道", en: "Channels" },
  subChannels: { zh: "消息集成", en: "Messaging Integrations" },
  titleCron: { zh: "定时任务周期", en: "Cron Jobs" },
  subCron: { zh: "调度唤醒和循环运行。", en: "Schedule wakeups and recurring agent runs." },
  titleInstances: { zh: "实例", en: "Instances" },
  subInstances: { zh: "来自连接客户端和节点的在线状态。", en: "Presence beacons from connected clients and nodes." },
  titleSkills: { zh: "技能库", en: "Skills" },
  subSkills: { zh: "管理技能可用性和 API 密钥注入。", en: "Manage skill availability and API key injection." },
  titleNodes: { zh: "节点 & 设备", en: "Nodes" },
  subNodes: { zh: "配对设备、功能和命令。 ", en: "Paired devices, capabilities, and command exposure." },
  titleConfig: { zh: "网关配置", en: "Config" },
  subConfig: { zh: "安全地编辑 ~/.openclaw/openclaw.json。", en: "Edit ~/.openclaw/openclaw.json safely." },
  titleDebug: { zh: "网关调试", en: "Debug" },
  subDebug: { zh: "网关快照、事件和手动 RPC 调用。", en: "Gateway snapshots, events, and manual RPC calls." },
  titleLogs: { zh: "系统日志", en: "Logs" },
  subLogs: { zh: "实时查看网关日志文件。", en: "Live tail of the gateway file logs." },
  labelFile: { zh: "文件：", en: "File: " },
  placeholderSearchLogs: { zh: "搜索日志", en: "Search logs" },
  labelAutoFollow: { zh: "自动跟随", en: "Auto-follow" },
  msgTruncated: { zh: "日志输出被截断；正在显示最新块。", en: "Log output truncated; showing latest chunk." },
  msgNoLogEntries: { zh: "无日志条目。", en: "No log entries." },
  labelFiltered: { zh: "已过滤", en: "filtered" },
  labelVisible: { zh: "可见", en: "visible" },
  
  titleSettings: { zh: "设置", en: "Settings" },
  placeholderSearchSettings: { zh: "搜索设置...", en: "Search settings..." },
  labelAllSettings: { zh: "所有设置", en: "All Settings" },
  labelForm: { zh: "表单", en: "Form" },
  labelRaw: { zh: "原始", en: "Raw" },
  msgUnsavedChanges: { zh: "未保存的更改", en: "Unsaved changes" },
  labelNoChanges: { zh: "无更改", en: "No changes" },
  btnApply: { zh: "应用", en: "Apply" },
  btnUpdate: { zh: "更新", en: "Update" },
  labelViewPending: { zh: "查看 ${count} 个待处理更改", en: "View ${count} pending changes" },
  labelAll: { zh: "全部", en: "All" },
  labelLoadingSchema: { zh: "加载架构中…", en: "Loading schema…" },
  msgFormUnsafe: { zh: "表单视图无法安全地编辑某些字段。请使用原始视图以避免丢失配置条目。", en: "Form view can't safely edit some fields. Use Raw to avoid losing config entries." },
  labelRawJson5: { zh: "原始 JSON5", en: "Raw JSON5" },

  // Config Sections
  configSection_env: { zh: "环境变量", en: "Environment" },
  configSection_update: { zh: "更新", en: "Updates" },
  configSection_agents: { zh: "智能体", en: "Agents" },
  configSection_auth: { zh: "身份认证", en: "Authentication" },
  configSection_channels: { zh: "渠道", en: "Channels" },
  configSection_messages: { zh: "消息", en: "Messages" },
  configSection_commands: { zh: "命令", en: "Commands" },
  configSection_hooks: { zh: "钩子", en: "Hooks" },
  configSection_skills: { zh: "技能", en: "Skills" },
  configSection_tools: { zh: "工具", en: "Tools" },
  configSection_gateway: { zh: "网关", en: "Gateway" },
  configSection_wizard: { zh: "设置向导", en: "Setup Wizard" },
  configSection_meta: { zh: "元数据", en: "Metadata" },
  configSection_logging: { zh: "日志", en: "Logging" },
  configSection_browser: { zh: "浏览器", en: "Browser" },
  configSection_ui: { zh: "界面", en: "UI" },
  configSection_models: { zh: "模型", en: "Models" },
  configSection_bindings: { zh: "绑定", en: "Bindings" },
  configSection_broadcast: { zh: "广播", en: "Broadcast" },
  configSection_audio: { zh: "音频", en: "Audio" },
  configSection_session: { zh: "会话", en: "Session" },
  configSection_cron: { zh: "定时任务", en: "Cron" },
  configSection_web: { zh: "Web 服务", en: "Web" },
  configSection_discovery: { zh: "服务发现", en: "Discovery" },
  configSection_canvasHost: { zh: "画布面板", en: "Canvas Host" },
  configSection_talk: { zh: "语音对话", en: "Talk" },
  configSection_plugins: { zh: "插件", en: "Plugins" },

  // Config Section Descriptions
  configDesc_env: { zh: "传递给网关进程的环境变量", en: "Environment variables passed to the gateway process" },
  configDesc_update: { zh: "自动更新设置和发布渠道", en: "Auto-update settings and release channel" },
  configDesc_agents: { zh: "智能体配置、模型和身份", en: "Agent configurations, models, and identities" },
  configDesc_auth: { zh: "API 密钥和认证配置文件", en: "API keys and authentication profiles" },
  configDesc_channels: { zh: "消息渠道 (Telegram, Discord, Slack 等)", en: "Messaging channels (Telegram, Discord, Slack, etc.)" },
  configDesc_messages: { zh: "消息处理和路由设置", en: "Message handling and routing settings" },
  configDesc_commands: { zh: "自定义斜杠命令", en: "Custom slash commands" },
  configDesc_hooks: { zh: "Webhook 和事件钩子", en: "Webhooks and event hooks" },
  configDesc_skills: { zh: "技能包和能力", en: "Skill packs and capabilities" },
  configDesc_tools: { zh: "工具配置 (浏览器、搜索等)", en: "Tool configurations (browser, search, etc.)" },
  configDesc_gateway: { zh: "网关服务器设置 (端口、认证、绑定)", en: "Gateway server settings (port, auth, binding)" },
  configDesc_wizard: { zh: "设置向导状态和历史", en: "Setup wizard state and history" },
  configDesc_meta: { zh: "网关元数据和版本信息", en: "Gateway metadata and version information" },
  configDesc_logging: { zh: "日志级别和输出配置", en: "Log levels and output configuration" },
  configDesc_browser: { zh: "浏览器自动化设置", en: "Browser automation settings" },
  configDesc_ui: { zh: "用户界面首选项", en: "User interface preferences" },
  configDesc_models: { zh: "AI 模型配置和提供商", en: "AI model configurations and providers" },
  configDesc_bindings: { zh: "按键绑定和快捷方式", en: "Key bindings and shortcuts" },
  configDesc_broadcast: { zh: "广播和通知设置", en: "Broadcast and notification settings" },
  configDesc_audio: { zh: "音频输入/输出设置", en: "Audio input/output settings" },
  configDesc_session: { zh: "会话管理和持久化", en: "Session management and persistence" },
  configDesc_cron: { zh: "计划任务和自动化", en: "Scheduled tasks and automation" },
  configDesc_web: { zh: "Web 服务器和 API 设置", en: "Web server and API settings" },
  configDesc_discovery: { zh: "服务发现和网络", en: "Service discovery and networking" },
  configDesc_canvasHost: { zh: "画布渲染和显示", en: "Canvas rendering and display" },
  configDesc_talk: { zh: "语音和语言设置", en: "Voice and speech settings" },
  configDesc_plugins: { zh: "插件管理和扩展", en: "Plugin management and extensions" },

  // Gateway subsections (explicitly requested)
  configSubsection_gateway_discovery: { zh: "服务发现", en: "Discovery" },
  configSubsection_gateway_web: { zh: "Web 服务", en: "Web" },
  configSubsection_gateway_auth: { zh: "身份认证", en: "Auth" },
  configSubsection_gateway_tls: { zh: "TLS 安全", en: "TLS" },
  configSubsection_gateway_proxy: { zh: "代理设置", en: "Proxy" },

  // Config Form UI
  btnAdd: { zh: "添加", en: "Add" },
  btnRemoveItem: { zh: "移除项目", en: "Remove item" },
  btnRemoveEntry: { zh: "移除条目", en: "Remove entry" },
  labelKey: { zh: "键", en: "Key" },
  labelValue: { zh: "值", en: "Value" },
  placeholderJsonValue: { zh: "JSON 值", en: "JSON value" },
  msgNoItems: { zh: "暂无项目。点击“添加”创建一个。", en: "No items yet. Click \"Add\" to create one." },
  msgNoCustomEntries: { zh: "暂无自定义条目。", en: "No custom entries." },
  labelCustomEntries: { zh: "自定义条目", en: "Custom entries" },
  msgUnsupportedType: { zh: "不支持的类型：${type}。请使用原始模式。", en: "Unsupported type: ${type}. Use Raw mode." },
  msgUnsupportedSchema: { zh: "不支持的架构节点。请使用原始模式。", en: "Unsupported schema node. Use Raw mode." },
  labelItems: { zh: "个项目", en: "items" },
  labelItem: { zh: "个项目", en: "item" },
  btnResetDefault: { zh: "重置为默认值", en: "Reset to default" },
  labelSelect: { zh: "选择...", en: "Select..." },
  labelSubsection: { zh: "子章节", en: "Subsection" },
  labelAllSubsections: { zh: "所有子章节", en: "All Subsections" },
  labelSettings: { zh: "设置", en: "Settings" },
  msgNoRecentSessions: { zh: "最近没有会话。", en: "No recent sessions." },

  // Chat Controls
  refreshChat: { zh: "刷新聊天数据", en: "Refresh chat data" },
  toggleThinking: { zh: "切换思考过程显示", en: "Toggle assistant thinking/working output" },
  toggleFocus: { zh: "切换专注模式 (隐藏侧边栏 + 顶栏)", en: "Toggle focus mode (hide sidebar + page header)" },
  disabledOnboarding: { zh: "向导模式下禁用", en: "Disabled during onboarding" },
  
  // Language
  language: { zh: "语言", en: "Language" },
  langZh: { zh: "中文", en: "Chinese" },
  langEn: { zh: "英文", en: "English" },

  // Agents View - General
  panelOverview: { zh: "概览", en: "Overview" },
  panelFiles: { zh: "文件", en: "Files" },
  panelTools: { zh: "工具", en: "Tools" },
  panelSkills: { zh: "技能", en: "Skills" },
  panelChannels: { zh: "渠道", en: "Channels" },
  panelCron: { zh: "定时任务", en: "Cron Jobs" },
  agentsTitle: { zh: "智能体列表", en: "Agents" },
  configuredCount: { zh: "个已配置", en: "configured" },
  loading: { zh: "加载中…", en: "Loading…" },
  refresh: { zh: "刷新", en: "Refresh" },
  refreshing: { zh: "刷新中…", en: "Refreshing…" },
  noAgentsFound: { zh: "未找到 Agents", en: "No agents found." },
  selectAgentTitle: { zh: "选择一个 Agent", en: "Select an agent" },
  selectAgentSub: { zh: "查看其工作区和工具配置。", en: "Pick an agent to inspect its workspace and tools." },
  agentSubtitleDefault: { zh: "工作区和路由。", en: "Agent workspace and routing." },
  
  // Agents View - Overview
  overviewTitle: { zh: "概览", en: "Overview" },
  overviewSub: { zh: "工作区路径和身份元数据。", en: "Workspace paths and identity metadata." },
  labelWorkspace: { zh: "工作区", en: "Workspace" },
  labelPrimaryModel: { zh: "主模型", en: "Primary Model" },
  labelIdentityName: { zh: "身份名称", en: "Identity Name" },
  labelDefault: { zh: "默认", en: "Default" },
  labelIdentityEmoji: { zh: "身份表情", en: "Identity Emoji" },
  labelSkillsFilter: { zh: "技能过滤", en: "Skills Filter" },
  labelModelSelection: { zh: "模型选择", en: "Model Selection" },
  labelPrimaryModelSelect: { zh: "主模型", en: "Primary model" },
  suffixDefault: { zh: " (默认)", en: " (default)" },
  optInheritDefault: { zh: "继承默认", en: "Inherit default" },
  labelFallbacks: { zh: "后备模型 (逗号分隔)", en: "Fallbacks (comma-separated)" },
  btnReloadConfig: { zh: "重载配置", en: "Reload Config" },
  btnSave: { zh: "保存", en: "Save" },
  btnSaving: { zh: "保存中…", en: "Saving…" },
  applying: { zh: "应用中…", en: "Applying…" },
  updating: { zh: "更新中…", en: "Updating…" },
  yes: { zh: "是", en: "yes" },
  no: { zh: "否", en: "no" },
  skillsSelected: { zh: "个已选", en: "selected" },
  allSkills: { zh: "所有技能", en: "all skills" },
  
  // Agents View - Context
  contextTitle: { zh: "Agent 上下文", en: "Agent Context" },

  // Agents View - Channels
  contextSubChannels: { zh: "工作区、身份和模型配置。", en: "Workspace, identity, and model configuration." },
  channelsTitle: { zh: "渠道", en: "Channels" },
  channelsSub: { zh: "网关全局渠道状态快照。", en: "Gateway-wide channel status snapshot." },
  lastRefresh: { zh: "上次刷新：", en: "Last refresh: " },
  never: { zh: "从未", en: "never" },
  msgLoadChannels: { zh: "加载渠道以查看实时状态。", en: "Load channels to see live status." },
  msgNoChannels: { zh: "未找到渠道。", en: "No channels found." },
  statusConnected: { zh: "已连接", en: "connected" },
  statusNoAccounts: { zh: "无账户", en: "no accounts" },
  statusConfigured: { zh: "已配置", en: "configured" },
  statusNotConfigured: { zh: "未配置", en: "not configured" },
  statusEnabled: { zh: "已启用", en: "enabled" },
  statusDisabled: { zh: "已禁用", en: "disabled" },

  // Agents View - Cron
  contextSubCron: { zh: "工作区和调度目标。", en: "Workspace and scheduling targets." },
  schedulerTitle: { zh: "调度器", en: "Scheduler" },
  schedulerSub: { zh: "网关定时任务状态。", en: "Gateway cron status." },
  statEnabled: { zh: "启用", en: "Enabled" },
  statJobs: { zh: "任务", en: "Jobs" },
  statNextWake: { zh: "下次唤醒", en: "Next wake" },
  agentCronTitle: { zh: "Agent 定时任务", en: "Agent Cron Jobs" },
  agentCronSub: { zh: "针对此智能体的计划任务。", en: "Scheduled jobs targeting this agent." },
  msgNoJobs: { zh: "无任务。", en: "No jobs assigned." },

  // Cron Job Labels
  labelName: { zh: "名称", en: "Name" },
  labelDescription: { zh: "描述", en: "Description" },
  labelAgentId: { zh: "智能体 ID", en: "Agent ID" },
  labelSchedule: { zh: "调度", en: "Schedule" },
  labelSession: { zh: "会话", en: "Session" },
  labelWakeMode: { zh: "唤醒模式", en: "Wake mode" },
  labelPayload: { zh: "负载", en: "Payload" },
  labelSystemText: { zh: "系统文本", en: "System text" },
  labelAgentMessage: { zh: "智能体消息", en: "Agent message" },
  labelDelivery: { zh: "投递", en: "Delivery" },
  labelTimeoutSeconds: { zh: "超时 (秒)", en: "Timeout (seconds)" },
  labelTo: { zh: "发送至", en: "To" },
  btnAddJob: { zh: "添加任务", en: "Add job" },
  btnRunHistory: { zh: "运行历史", en: "Run history" },
  btnDisable: { zh: "禁用", en: "Disable" },
  btnEnable: { zh: "启用", en: "Enable" },
  btnRun: { zh: "运行", en: "Run" },
  btnRemove: { zh: "移除", en: "Remove" },
  btnHistory: { zh: "历史", en: "History" },
  msgNoRecentRuns: { zh: "暂无历史运行记录。", en: "No recent runs yet." },
  msgSelectJobHistory: { zh: "选择一个任务以查看运行历史。", en: "Select a job to inspect run history." },
  lastStatus: { zh: "最后状态", en: "Last Status" },
  nextRun: { zh: "下次运行", en: "Next Run" },
  lastRun: { zh: "上次运行", en: "Last Run" },

  // Agents View - Files
  filesTitle: { zh: "核心文件", en: "Core Files" },
  filesSub: { zh: "引导角色、身份和工具指南。", en: "Bootstrap persona, identity, and tool guidance." },
  msgLoadFiles: { zh: "加载 Agent 工作区文件以编辑核心指令。", en: "Load the agent workspace files to edit core instructions." },
  msgNoFiles: { zh: "未找到文件。", en: "No files found." },
  msgSelectFile: { zh: "选择一个文件进行编辑。", en: "Select a file to edit." },
  btnReset: { zh: "重置", en: "Reset" },
  msgMissingFile: { zh: "文件丢失。保存将在 Agent 工作区中创建它。", en: "This file is missing. Saving will create it in the agent workspace." },
  labelContent: { zh: "内容", en: "Content" },
  statusMissing: { zh: "缺失", en: "Missing" },

  // Agents View - Tools
  toolsTitle: { zh: "工具访问", en: "Tool Access" },
  toolsSub: { zh: "此 Agent 的配置文件 + 逐工具覆盖。", en: "Profile + per-tool overrides for this agent." },
  btnEnableAll: { zh: "全部启用", en: "Enable All" },
  btnDisableAll: { zh: "全部禁用", en: "Disable All" },
  msgLoadConfig: { zh: "加载网关配置以调整工具配置文件。", en: "Load the gateway config to adjust tool profiles." },
  msgExplicitAllow: { zh: "此 Agent 在配置中使用了显式允许列表。工具覆盖在配置选项卡中管理。", en: "This agent is using an explicit allowlist in config. Tool overrides are managed in the Config tab." },
  msgGlobalAllow: { zh: "已设置全局 tools.allow。Agent 覆盖无法启用全局阻止的工具。", en: "Global tools.allow is set. Agent overrides cannot enable tools that are globally blocked." },
  labelProfile: { zh: "配置文件", en: "Profile" },
  labelSource: { zh: "来源", en: "Source" },
  labelStatus: { zh: "状态", en: "Status" },
  statusUnsaved: { zh: "未保存", en: "unsaved" },
  presetsTitle: { zh: "快速预设", en: "Quick Presets" },
  btnInherit: { zh: "继承", en: "Inherit" },

  // Agents View - Skills
  skillsTitle: { zh: "技能", en: "Skills" },
  skillsSub: { zh: "单 Agent 技能允许列表和工作区技能。", en: "Per-agent skill allowlist and workspace skills." },
  btnUseAll: { zh: "使用全部", en: "Use All" },
  msgSkillAllowlist: { zh: "此 Agent 使用自定义技能允许列表。", en: "This agent uses a custom skill allowlist." },
  msgSkillAllEnabled: { zh: "所有技能已启用。禁用任何技能将创建单 Agent 允许列表。", en: "All skills are enabled. Disabling any skill will create a per-agent allowlist." },
  msgLoadSkills: { zh: "加载此 Agent 的技能以查看工作区特定条目。", en: "Load skills for this agent to view workspace-specific entries." },
  labelFilter: { zh: "过滤", en: "Filter" },
  placeholderSearchSkills: { zh: "搜索技能", en: "Search skills" },
  suffixShown: { zh: "个已显示", en: "shown" },
  msgNoSkills: { zh: "未找到技能。", en: "No skills found." },
  groupWorkspaceSkills: { zh: "工作区技能", en: "Workspace Skills" },
  groupBuiltInSkills: { zh: "内置技能", en: "Built-in Skills" },
  groupInstalledSkills: { zh: "已安装技能", en: "Installed Skills" },
  groupExtraSkills: { zh: "额外技能", en: "Extra Skills" },
  groupOtherSkills: { zh: "其他技能", en: "Other Skills" },
  
  // Skill statuses
  skillBlocked: { zh: "已阻止", en: "blocked" },
  skillEligible: { zh: "可用", en: "eligible" },
  skillDisabled: { zh: "已禁用", en: "disabled" },
  skillReasonBlocked: { zh: "被允许列表阻止", en: "blocked by allowlist" },
  skillMissing: { zh: "缺失：", en: "Missing: " },
  skillReason: { zh: "原因：", en: "Reason: " },
  none: { zh: "无", en: "none" },
  btnSaveDetails: { zh: "保存详情", en: "Save details" },
  labelId: { zh: "ID", en: "ID" },
  labelType: { zh: "类型", en: "Type" },
  labelVersion: { zh: "版本", en: "Version" },

  // Nodes View

  tabDevices: { zh: "设备", en: "Devices" },
  subDevices: { zh: "配对请求 + 角色令牌。", en: "Pairing requests + role tokens." },
  tabExecBinding: { zh: "执行节点绑定", en: "Exec node binding" },
  subExecBinding: { zh: "使用 exec host=node 时将智能体固定到特定节点。", en: "Pin agents to a specific node when using exec host=node." },
  tabExecApprovals: { zh: "执行审批", en: "Exec approvals" },
  subExecApprovals: { zh: "exec host=gateway/node 的允许列表和审批策略。", en: "Allowlist and approval policy for exec host=gateway/node." },
  labelPending: { zh: "待处理", en: "Pending" },
  labelPaired: { zh: "已配对", en: "Paired" },
  btnApprove: { zh: "批准", en: "Approve" },
  btnReject: { zh: "拒绝", en: "Reject" },
  btnRotate: { zh: "轮换", en: "Rotate" },
  btnRevoke: { zh: "撤销", en: "Revoke" },
  labelDefaultBinding: { zh: "默认绑定", en: "Default binding" },
  subDefaultBinding: { zh: "当智能体未覆盖节点绑定时使用。", en: "Used when agents do not override a node binding." },
  labelNode: { zh: "节点", en: "Node" },
  labelAnyNode: { zh: "任何节点", en: "Any node" },
  msgNoNodes: { zh: "未发现节点。", en: "No nodes found." },
  msgNoDevices: { zh: "无配对设备。", en: "No paired devices." },
  msgLoadConfigBinding: { zh: "加载配置以编辑绑定。", en: "Load config to edit bindings." },
  msgSwitchFormMode: { zh: "切换配置选项卡到表单模式以在此编辑绑定。", en: "Switch the Config tab to Form mode to edit bindings here." },
  labelHost: { zh: "主机", en: "Host" },
  labelGateway: { zh: "网关", en: "Gateway" },
  labelTarget: { zh: "目标", en: "Target" },
  subTarget: { zh: "网关编辑本地审批；节点编辑所选节点。", en: "Gateway edits local approvals; node edits the selected node." },
  labelScope: { zh: "范围", en: "Scope" },
  labelSecurity: { zh: "安全", en: "Security" },
  labelMode: { zh: "模式", en: "Mode" },
  labelAsk: { zh: "询问", en: "Ask" },
  labelAskFallback: { zh: "询问回退", en: "Ask Fallback" },
  labelAutoAllowSkills: { zh: "自动允许技能", en: "Auto allow skills" },
  msgLoadApprovals: { zh: "加载执行审批以编辑允许列表。", en: "Load exec approvals to edit allowlists." },
  btnLoadApprovals: { zh: "加载审批", en: "Load approvals" },
  labelDeny: { zh: "拒绝", en: "Deny" },
  labelAllowlist: { zh: "允许列表", en: "Allowlist" },
  labelFull: { zh: "完全", en: "Full" },
  labelOff: { zh: "关闭", en: "Off" },
  labelOnMiss: { zh: "未命中时", en: "On miss" },
  labelAlways: { zh: "始终", en: "Always" },
  labelSuffixDefault: { zh: "默认", en: "default" },
  labelUseDefault: { zh: "使用默认", en: "Use default" },
  labelAllowlistEntries: { zh: "允许列表条目", en: "Allowlist entries" },
  btnAddEntry: { zh: "添加条目", en: "Add entry" },
  placeholderCommandRegex: { zh: "命令正则 (例如: git .*)", en: "Command regex (e.g. git .*)" },
  msgNoEntries: { zh: "无条目。", en: "No entries." },
  msgNoNodesApprovals: { zh: "尚无节点发布执行审批。", en: "No nodes advertise exec approvals yet." },
  labelTokens: { zh: "令牌", en: "Tokens" },
  labelActive: { zh: "活跃", en: "active" },
  labelRevoked: { zh: "已撤销", en: "revoked" },
  btnSaveBindings: { zh: "保存绑定", en: "Save bindings" },
  msgLoadConfigToEdit: { zh: "加载配置以编辑。", en: "Load config to edit." },
  btnLoadConfig: { zh: "加载配置", en: "Load config" },
  msgNoAgents: { zh: "未发现智能体。", en: "No agents found." },
  labelSuffixShown: { zh: "显示", en: "shown" },
  labelSelectNode: { zh: "选择节点", en: "Select node" },
  labelDefaults: { zh: "默认值", en: "Defaults" },
  msgDefaultSecurityMode: { zh: "默认安全模式。", en: "Default security mode." },
  msgDefaultPromptPolicy: { zh: "默认提示策略。", en: "Default prompt policy." },
  msgAppliedWhenPromptUnavailable: { zh: "当 UI 提示不可用时应用。", en: "Applied when the UI prompt is unavailable." },
  msgAllowSkillExecutables: { zh: "允许网关列出的技能可执行文件。", en: "Allow skill executables listed by the Gateway." },
  labelOn: { zh: "开启", en: "on" },
  labelOverride: { zh: "覆盖", en: "Override" },
  labelEnabled: { zh: "已启用", en: "Enabled" },
  subAllowlist: { zh: "不区分大小写的通配符模式。", en: "Case-insensitive glob patterns." },
  labelDefaultAgent: { zh: "默认智能体", en: "default agent" },
  labelUnpaired: { zh: "未配对", en: "unpaired" },
  connected: { zh: "已连接", en: "connected" },
  labelPattern: { zh: "模式", en: "Pattern" },
  unknown: { zh: "未知", en: "unknown" },
  labelLastUsed: { zh: "最后使用", en: "Last used" },
  labelNewPattern: { zh: "新模式", en: "New pattern" },


  // Overview View
  gatewayAccess: { zh: "网关访问", en: "Gateway Access" },
  gatewayAccessSub: { zh: "仪表板连接位置及认证方式。", en: "Where the dashboard connects and how it authenticates." },
  labelWsUrl: { zh: "WebSocket URL", en: "WebSocket URL" },
  labelToken: { zh: "网关令牌", en: "Gateway Token" },
  labelPassword: { zh: "密码 (不存储)", en: "Password (not stored)" },
  labelSessionKey: { zh: "默认会话密钥", en: "Default Session Key" },
  btnConnect: { zh: "连接", en: "Connect" },
  msgConnectHint: { zh: "点击连接以应用更改。", en: "Click Connect to apply connection changes." },
  
  snapshotTitle: { zh: "快照", en: "Snapshot" },
  snapshotSub: { zh: "最新网关握手信息。", en: "Latest gateway handshake information." },
  labelManualRpc: { zh: "手动 RPC", en: "Manual RPC" },
  subManualRpc: { zh: "使用 JSON 参数发送原始网关方法。", en: "Send a raw gateway method with JSON params." },
  labelMethod: { zh: "方法", en: "Method" },
  labelParams: { zh: "参数 (JSON)", en: "Params (JSON)" },
  btnCall: { zh: "调用", en: "Call" },
  titleModels: { zh: "模型", en: "Models" },
  subModels: { zh: "来自 models.list 的目录。", en: "Catalog from models.list." },
  titleEventLog: { zh: "事件日志", en: "Event Log" },
  subEventLog: { zh: "最近的网关事件。", en: "Latest gateway events." },
  msgNoEvents: { zh: "暂无事件。", en: "No events yet." },
  labelSecurityAudit: { zh: "安全审计：", en: "Security audit: " },
  msgSecurityAuditHint: { zh: "。运行 ${cmd} 查看详情。", en: ". Run ${cmd} for details." },
  statStatus: { zh: "状态", en: "Status" },
  statConnected: { zh: "已连接", en: "Connected" },
  statDisconnected: { zh: "未连接", en: "Disconnected" },
  statUptime: { zh: "运行时间", en: "Uptime" },
  statTick: { zh: "Tick 间隔", en: "Tick Interval" },
  statLastRefresh: { zh: "上次渠道刷新", en: "Last Channels Refresh" },
  
  statInstances: { zh: "实例", en: "Instances" },
  statInstancesSub: { zh: "过去 5 分钟内的存在信标。", en: "Presence beacons in the last 5 minutes." },
  statSessions: { zh: "会话", en: "Sessions" },
  statSessionsSub: { zh: "网关跟踪的最近会话密钥。", en: "Recent session keys tracked by the gateway." },
  statCron: { zh: "定时任务", en: "Cron" },
  statCronEnabled: { zh: "已启用", en: "Enabled" },
  statCronDisabled: { zh: "已禁用", en: "Disabled" },
  // statNextWake removed (duplicate)
  
  notesTitle: { zh: "备注", en: "Notes" },
  notesSub: { zh: "远程控制设置的快速提醒。", en: "Quick reminders for remote control setups." },
  noteTailscaleTitle: { zh: "Tailscale serve", en: "Tailscale serve" },
  noteTailscaleSub: { zh: "建议使用 serve 模式，保持网关在 loopback 并使用 tailnet 认证。", en: "Prefer serve mode to keep the gateway on loopback with tailnet auth." },
  noteHygieneTitle: { zh: "会话卫生", en: "Session hygiene" },
  noteHygieneSub: { zh: "使用 /new 或 sessions.patch 重置上下文。", en: "Use /new or sessions.patch to reset context." },
  noteCronTitle: { zh: "Cron 提醒", en: "Cron reminders" },
  noteCronSub: { zh: "为重复运行使用隔离会话。", en: "Use isolated sessions for recurring runs." },
  
  msgAuthRequired: { zh: "此网关需要认证。添加令牌或密码，然后点击连接。", en: "This gateway requires auth. Add a token or password, then click Connect." },
  msgAuthFailed: { zh: "认证失败。在控制 UI 设置中更新令牌或密码，然后点击连接。", en: "Auth failed. Update the token or password in Control UI settings, then click Connect." },
  msgInsecureHTTP: { zh: "此页面为 HTTP，浏览器阻止设备身份。请使用 HTTPS (Tailscale Serve) 或在网关主机上打开", en: "This page is HTTP, so the browser blocks device identity. Use HTTPS (Tailscale Serve) or open" },
  msgInsecureHint: { zh: "如果必须保留在 HTTP，请设置", en: "If you must stay on HTTP, set" },
  msgChannelsHint: { zh: "使用渠道连接 WhatsApp, Telegram, Discord, Signal 或 iMessage。", en: "Use Channels to link WhatsApp, Telegram, Discord, Signal, or iMessage." },
  docControlUiAuth: { zh: "文档：控制 UI 认证", en: "Docs: Control UI auth" },
  docTailscale: { zh: "文档：Tailscale Serve", en: "Docs: Tailscale Serve" },
  docInsecure: { zh: "文档：不安全 HTTP", en: "Docs: Insecure HTTP" },

  // Chat View
  chatPlaceholder: { zh: "发送消息 (Enter 发送，Shift+Enter 换行，粘贴图片)", en: "Message (Enter to send, Shift+Enter for line breaks, paste images)" },
  chatPlaceholderConnect: { zh: "连接到网关以开始聊天…", en: "Connect to the gateway to start chatting…" },
  chatPlaceholderFiles: { zh: "添加消息或粘贴更多图片...", en: "Add a message or paste more images..." },
  chatLoading: { zh: "加载聊天中…", en: "Loading chat…" },
  chatQueued: { zh: "已排队", en: "Queued" },
  chatNewMessages: { zh: "新消息", en: "New messages" },
  btnStop: { zh: "停止", en: "Stop" },
  btnNewSession: { zh: "新会话", en: "New session" },
  btnQueue: { zh: "排队", en: "Queue" },
  btnSend: { zh: "发送", en: "Send" },
  labelMessage: { zh: "消息", en: "Message" },
  image: { zh: "图片", en: "Image" },
  compactionActive: { zh: "正在压缩上下文...", en: "Compacting context..." },
  compactionDone: { zh: "上下文已压缩", en: "Context compacted" },
  attachmentPreview: { zh: "附件预览", en: "Attachment preview" },
  removeAttachment: { zh: "移除附件", en: "Remove attachment" },
  removeQueued: { zh: "移除排队消息", en: "Remove queued message" },
  exitFocus: { zh: "退出专注模式", en: "Exit focus mode" },
  historyNotice: { zh: "显示最近 ${limit} 条消息 (隐藏了 ${hidden} 条)。", en: "Showing last ${limit} messages (${hidden} hidden)." },
  compactionDivider: { zh: "压缩", en: "Compaction" },

  // Usage View - General
  usageTitle: { zh: "用量", en: "Usage" },
  usageSubtitle: { zh: "查看令牌去向、会话峰值及成本驱动因素。", en: "See where tokens go, when sessions spike, and what drives cost." },
  
  // Usage - Filters
  videoFilters: { zh: "筛选", en: "Filters" },
  filterAgent: { zh: "Agent", en: "Agent" },
  filterChannel: { zh: "渠道", en: "Channel" },
  filterProvider: { zh: "提供商", en: "Provider" },
  filterModel: { zh: "模型", en: "Model" },
  filterTool: { zh: "工具", en: "Tool" },
  hintSelectDate: { zh: "选择日期范围并点击刷新以加载用量数据。", en: "Select a date range and click Refresh to load usage." },
  hintFilterSessions: { zh: "筛选会话 (例如 key:agent:main:cron* model:gpt-4o has:errors minTokens:2000)", en: "Filter sessions (e.g. key:agent:main:cron* model:gpt-4o has:errors minTokens:2000)" },
  btnFilterClient: { zh: "筛选 (客户端)", en: "Filter (client-side)" },
  hintMatch: { zh: "${match} / ${total} 个会话匹配", en: "${match} of ${total} sessions match" },
  hintRange: { zh: "${total} 个会话在范围内", en: "${total} sessions in range" },
  hintFilterTip: { zh: "提示：使用筛选器或点击柱状图筛选日期。", en: "Tip: use filters or click bars to filter days." },
  
  // Usage - Metrics
  metricTokens: { zh: "令牌", en: "tokens" },
  metricCost: { zh: "成本", en: "cost" },
  metricSessions: { zh: "会话", en: "session(s)" },
  
  // Usage - Actions
  btnPin: { zh: "固定", en: "Pin" },
  btnPinned: { zh: "已固定", en: "Pinned" },
  btnExport: { zh: "导出", en: "Export" },
  btnRefresh: { zh: "刷新", en: "Refresh" },
  presetToday: { zh: "今天", en: "Today" },
  
  // Usage - Chart Toggles
  toggleTokens: { zh: "令牌", en: "Tokens" },
  toggleCost: { zh: "成本", en: "Cost" },
  toggleTotal: { zh: "总计", en: "Total" },
  toggleByType: { zh: "按类型", en: "By Type" },
  
  // Usage - Daily Chart
  dailyTitle: { zh: "每日用量", en: "Daily Usage" },
  dailyTokenTitle: { zh: "每日令牌用量", en: "Daily Token Usage" },
  dailyCostTitle: { zh: "每日成本用量", en: "Daily Cost Usage" },
  itemOutput: { zh: "输出", en: "Output" },
  itemInput: { zh: "输入", en: "Input" },
  itemCacheWrite: { zh: "缓存写入", en: "Cache write" },
  itemCacheRead: { zh: "缓存读取", en: "Cache read" },
  
  // Usage - Breakdown
  breakdownTokenTitle: { zh: "令牌 (按类型)", en: "Tokens by Type" },
  breakdownCostTitle: { zh: "成本 (按类型)", en: "Cost by Type" },
  labelTotal: { zh: "总计：", en: "Total: " },
  
  // Usage - Insights
  insightTitle: { zh: "用量概览", en: "Usage Overview" },
  insightMessages: { zh: "消息", en: "Messages" },
  insightToolCalls: { zh: "工具调用", en: "Tool Calls" },
  insightErrors: { zh: "错误", en: "Errors" },
  insightAvgTokens: { zh: "平均令牌 / 消息", en: "Avg Tokens / Msg" },
  insightAvgCost: { zh: "平均成本 / 消息", en: "Avg Cost / Msg" },
  insightSessions: { zh: "会话", en: "Sessions" },
  insightThroughput: { zh: "吞吐量", en: "Throughput" },
  insightErrorRate: { zh: "错误率", en: "Error Rate" },
  insightCacheHit: { zh: "缓存命中率", en: "Cache Hit Rate" },
  
  insightTopModels: { zh: "热门模型", en: "Top Models" },
  insightTopProviders: { zh: "热门提供商", en: "Top Providers" },
  insightTopTools: { zh: "热门工具", en: "Top Tools" },
  insightTopAgents: { zh: "热门 Agents", en: "Top Agents" },
  insightTopChannels: { zh: "热门渠道", en: "Top Channels" },
  insightPeakErrorDays: { zh: "错误峰值日期", en: "Peak Error Days" },
  insightPeakErrorHours: { zh: "错误峰值时段", en: "Peak Error Hours" },

  // Usage - Insights Hints
  hintMessages: { zh: "范围内用户 + 助手消息总数。", en: "Total user + assistant messages in range." },
  hintToolCalls: { zh: "跨会话的总工具调用计数。", en: "Total tool call count across sessions." },
  hintErrors: { zh: "范围内的消息/工具错误总数。", en: "Total message/tool errors in range." },
  hintAvgTokens: { zh: "此范围内每条消息的平均令牌数。", en: "Average tokens per message in this range." },
  hintAvgCost: { zh: "当提供商报告成本时的每条消息平均成本。", en: "Average cost per message when providers report costs." },
  hintAvgCostMissing: { zh: "当提供商报告成本时的每条消息平均成本。此范围内某些或所有会话缺少成本数据。", en: "Average cost per message when providers report costs. Cost data is missing for some or all sessions in this range." },
  hintSessions: { zh: "范围内的不同会话。", en: "Distinct sessions in the range." },
  hintThroughput: { zh: "吞吐量显示活动时间的每分钟令牌数。越高越好。", en: "Throughput shows tokens per minute over active time. Higher is better." },
  hintErrorRate: { zh: "错误率 = 错误数 / 总消息数。越低越好。", en: "Error rate = errors / total messages. Lower is better." },
  hintCacheHit: { zh: "缓存命中率 = 缓存读取 / (输入 + 缓存读取)。越高越好。", en: "Cache hit rate = cache read / (input + cache read). Higher is better." },
  
  noDataModel: { zh: "无模型数据", en: "No model data" },
  noDataProvider: { zh: "无提供商数据", en: "No provider data" },
  noDataTool: { zh: "无工具调用", en: "No tool calls" },
  noDataAgent: { zh: "无 Agent 数据", en: "No agent data" },
  noDataChannel: { zh: "无渠道数据", en: "No channel data" },
  noDataError: { zh: "无错误数据", en: "No error data" },
  
  // Usage - Sessions List
  sessionsTitle: { zh: "会话", en: "Sessions" },
  sessionsShown: { zh: "已显示", en: "shown" },
  sessionsTotal: { zh: "总计", en: "total" },
  sessionsAvg: { zh: "平均", en: "avg" },
  sortSort: { zh: "排序", en: "Sort" },
  sortRecent: { zh: "最近", en: "Recent" },
  sortMessages: { zh: "消息", en: "Messages" },
  sortErrors: { zh: "错误", en: "Errors" },
  sortCost: { zh: "成本", en: "Cost" },
  sortTokens: { zh: "令牌", en: "Tokens" },
  
  tabAll: { zh: "全部", en: "All" },
  tabRecent: { zh: "最近查看", en: "Recently viewed" },
  btnClearSelection: { zh: "清除选择", en: "Clear Selection" },
  noRecentSessions: { zh: "无最近会话", en: "No recent sessions" },
  btnCopy: { zh: "复制", en: "Copy" },

  // Session Details
  btnCloseSession: { zh: "关闭会话详情", en: "Close session details" },
  usageOverTime: { zh: "用量随时间变化", en: "Usage Over Time" },
  togglePerTurn: { zh: "每轮", en: "Per Turn" },
  toggleCumulative: { zh: "累计", en: "Cumulative" },
  msgNoTimeline: { zh: "无时间线数据", en: "No timeline data" },
  msgNoDataInRange: { zh: "范围内无数据", en: "No data in range" },
  
  // Context Panel
  msgNoContext: { zh: "无上下文数据", en: "No context data" },
  labelBaseContext: { zh: "每条消息的基础上下文", en: "Base context per message" },
  titleSystemPrompt: { zh: "系统提示细分", en: "System Prompt Breakdown" },
  btnExpandAll: { zh: "展开全部", en: "Expand all" },
  btnCollapse: { zh: "折叠", en: "Collapse" },
  labelSkills: { zh: "技能", en: "Skills" },
  labelTools: { zh: "工具", en: "Tools" },
  labelFiles: { zh: "文件", en: "Files" },
  labelMore: { zh: "+${count} 更多", en: "+${count} more" },
  
  // Session Logs
  titleConversation: { zh: "对话", en: "Conversation" },
  msgNoMessages: { zh: "无消息", en: "No messages" },
  btnCollapseAll: { zh: "折叠全部", en: "Collapse All" },
  
  roleUser: { zh: "用户", en: "User" },
  roleAssistant: { zh: "助手", en: "Assistant" },
  roleTool: { zh: "工具", en: "Tool" },
  roleToolResult: { zh: "工具结果", en: "Tool result" },
  
  labelHasTools: { zh: "包含工具", en: "Has tools" },
  placeholderSearch: { zh: "搜索对话", en: "Search conversation" },
  btnClear: { zh: "清除", en: "Clear" },
  labelYou: { zh: "你", en: "You" },
  
  // Filters Chips
  filterDays: { zh: "天数", en: "Days" },
  filterHours: { zh: "小时", en: "Hours" },
  filterSession: { zh: "会话", en: "Session" },
  btnRemoveFilter: { zh: "移除筛选", en: "Remove filter" },
  
  // Mosaic
  mosaicTitle: { zh: "按时间活动", en: "Activity by Time" },
  mosaicSub: { zh: "根据会话跨度估算 (首次/最后活动)。时区：${zone}。", en: "Estimated from session spans (first/last activity). Time zone: ${zone}." },
  mosaicNoData: { zh: "暂无时间线数据。", en: "No timeline data yet." },
  mosaicDayOfWeek: { zh: "星期", en: "Day of Week" },
  mosaicHours: { zh: "小时", en: "Hours" },
  mosaicMidnight: { zh: "午夜", en: "Midnight" },
  mosaicNoon: { zh: "中午", en: "Noon" },
  mosaicDensity: { zh: "低 → 高 令牌密度", en: "Low → High token density" },

  // Session Summary
  msgNoUsageData: { zh: "此会话无用量数据。", en: "No usage data for this session." },
  subCalls: { zh: "调用", en: "calls" },
  labelFirst: { zh: "首次", en: "First" },
  labelLast: { zh: "最后", en: "Last" },
  metricDuration: { zh: "持续时间", en: "Duration" },
  labelTotalCost: { zh: "总成本", en: "Total Cost" },

};

export function t(key: keyof typeof translations, lang: Language = "zh"): string {
  const entry = translations[key];
  if (!entry) {
    return key;
  }
  return entry[lang] || entry["zh"]; // Fallback to Chinese
}
